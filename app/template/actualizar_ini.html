{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2>Iniciar Ticket de Mantenimiento</h2>
    
    <div class="ticket-info">
        <p><strong>ID:</strong> {{ ticket.id_mantenimiento }}</p>
        <p><strong>Descripci√≥n:</strong> {{ ticket.descripcion }}</p>
        <p><strong>Prioridad Actual:</strong> {{ ticket.prioridad }}</p>
    </div>

    <form method="POST" class="form">
        <div class="field">
            <label for="responsable">Responsable:</label>
            <div class="control">
                <input type="text" id="responsable" name="responsable" 
                       value="{{ ticket.responsable or '' }}" required>
            </div>
        </div>

        <div class="field">
            <label for="fecha_ini">Fecha de Inicio:</label>
            <div class="control">
                <input type="date" id="fecha_ini" name="fecha_ini" 
                       value="{{ ticket.fecha_ini or '' }}" required>
            </div>
        </div>

        <div class="field">
            <label for="fecha_fin">Fecha de Fin Estimada:</label>
            <div class="control">
                <input type="date" id="fecha_fin" name="fecha_fin" 
                       value="{{ ticket.fecha_fin or '' }}" required>
            </div>
        </div>

        <div class="field">
            <label for="costo">Costo Estimado:</label>
            <div class="control">
                <input type="number" step="0.01" id="costo" name="costo" 
                       value="{{ ticket.costo or '' }}" required>
            </div>
        </div>

        <div class="field">
            <label for="prioridad">Prioridad:</label>
            <div class="control">
                <select id="prioridad" name="prioridad" required>
                    <option value="Baja" {% if ticket.prioridad == 'Baja' %}selected{% endif %}>Baja</option>
                    <option value="Media" {% if ticket.prioridad == 'Media' %}selected{% endif %}>Media</option>
                    <option value="Alta" {% if ticket.prioridad == 'Alta' %}selected{% endif %}>Alta</option>
                </select>
            </div>
        </div>

        <div class="field">
            <div class="control">
                <button type="submit" class="button is-primary">Actualizar Ticket</button>
                <a href="{{ url_for('mantenimiento.list_mantenimiento') }}" class="button">Cancelar</a>
            </div>
        </div> 
    </form>
</div>
{% endblock %}